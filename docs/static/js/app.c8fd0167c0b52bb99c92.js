webpackJsonp([17],{"0Wij":function(t,e){},"5MGn":function(t,e){},"6cHg":function(t,e){},"6pLn":function(t,e){},"7EHF":function(t,e){},"991W":function(t,e){},"9R5P":function(t,e){},IcnI:function(t,e,n){"use strict";var i=n("Xxa5"),s=n.n(i),a=n("//Fk"),r=n.n(a),o=n("exGp"),c=n.n(o),l=n("7+uW"),u=n("NYxO"),d=n("gyMJ"),f=n("TuU3");l.default.use(u.a);var p={user:"",task:{tags:[],sentences:[],articles:[],selected:""}},m={},h={set_user:function(t,e){t.user=e},set_task:function(t,e){t.task=e},set_selected:function(t,e){t.task.selected=e},remove_token:function(t){t.user="",f.a.removeToken()}},v={get_login_data:function(t,e){var n=this;t.commit;return c()(s.a.mark(function t(){return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new r.a(function(t,n){Object(d.c)(e).then(function(e){e.data&&e.data.token?(f.a.setToken(e.data.token),t(e.data)):n(new Error("nothing data"))}).catch(function(t){n(t)})}));case 1:case"end":return t.stop()}},t,n)}))()},get_user_data:function(t){var e=this,n=t.commit;return c()(s.a.mark(function t(){return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new r.a(function(t,e){Object(d.f)(f.a.getToken()).then(function(i){i&&i.data?(n("set_user",i.data),t(i.data)):(n("remove_token"),e(new Error("nothing data")))}).catch(function(t){n("remove_token"),e(t)})}));case 1:case"end":return t.stop()}},t,e)}))()}};e.a=new u.a.Store({state:p,getters:m,mutations:h,actions:v})},J373:function(t,e){},NHnr:function(t,e,n){"use strict";function i(t){n("Sn6T")}function s(t){n("6cHg")}function a(t){n("caan")}function r(t){n("SMW8")}function o(t){n("0Wij")}function c(t){n("W4P1")}function l(t){n("fl+1")}function u(t){n("5MGn")}function d(t){n("l52I")}function f(t){n("hbde")}function p(t){n("t4qU")}function m(t){n("7EHF")}function h(t){n("6pLn")}Object.defineProperty(e,"__esModule",{value:!0});for(var v=(n("j1ja"),n("7+uW")),_={name:"app",methods:{init_Progress:function(){var t=this;this.$router.beforeEach(function(e,n,i){t.$Progress.start(),i()}),this.$router.afterEach(function(e,n){t.$Progress.finish()})}},created:function(){this.$Progress.start(),this.init_Progress()},mounted:function(){this.$Progress.finish()}},g=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("transition",{attrs:{name:"el-fade-in-linear",mode:"out-in"}},[n("router-view")],1),t._v(" "),n("vue-progress-bar"),t._v(" "),n("my-backTop")],1)},k=[],w={render:g,staticRenderFns:k},b=w,y=n("VU/8"),x=i,C=y(_,b,!1,x,null,null),S=C.exports,T=n("YaEn"),$=n("IcnI"),I=n("TuU3"),E=n("mtWM"),O=n.n(E),L=n("zL8q"),R=n.n(L),V=(n("tvR6"),n("7QTg")),P=n.n(V),j=(n("mgS3"),n("llnD"),n("zYko")),U=n.n(j),A=n("f0Nz"),F=n.n(A),N=(n("991W"),n("coeT"),n("J373"),n("9R5P"),n("Dd8w")),z=n.n(N),B=n("NYxO"),q={computed:z()({},Object(B.d)(["user"])),methods:z()({},Object(B.c)(["set_user","remove_token"]),{handleCommand:function(t){"exit"===t&&(this.remove_token(),this.$router.push("/login"))}})},M=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("header",{attrs:{id:"header"}},[n("div",{staticClass:"header_wrap"},[n("router-link",{staticClass:"logo",attrs:{to:"/"}},[t._v("头条号")]),t._v(" "),n("div",{staticClass:"right"},[n("router-link",{attrs:{to:{name:"publish"}}},[n("el-button",{staticClass:"publish_btn",attrs:{type:"primary"}},[t._v("发表")])],1),t._v(" "),n("el-dropdown",{staticClass:"user",attrs:{placement:"bottom"},on:{command:t.handleCommand}},[n("div",{staticClass:"userinfo"},[n("img",{attrs:{src:t.user.headimgurl,alt:""}}),t._v(" "),n("span",{staticClass:"el-dropdown-link"},[t._v(t._s(t.user.nickname))])]),t._v(" "),n("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[n("el-dropdown-item",{attrs:{command:"exit"}},[t._v("退出")])],1)],1)],1)],1)])},W=[],D={render:M,staticRenderFns:W},H=D,J=n("VU/8"),Y=s,G=J(q,H,!1,Y,null,null),X=G.exports,K={},Q=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},Z=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"footer"}},[n("div",{staticClass:"footer_wrap"},[n("a",{attrs:{href:"",title:""}},[t._v("关于健康头条")]),t._v(" "),n("span",[t._v("|")]),t._v(" "),n("a",{attrs:{href:"",title:""}},[t._v("用户协议")]),t._v(" "),n("span",[t._v("|")]),t._v(" "),n("a",{attrs:{href:"",title:""}},[t._v("运营规范")]),t._v(" "),n("span",[t._v("|")]),t._v(" "),n("a",{attrs:{href:"",title:""}},[t._v("侵权投诉")]),t._v(" "),n("span",[t._v("|")]),t._v(" "),n("a",{attrs:{href:"",title:""}},[t._v("联系我们")])])])}],tt={render:Q,staticRenderFns:Z},et=tt,nt=n("VU/8"),it=a,st=nt(K,et,!1,it,null,null),at=st.exports,rt={name:"my-menu",data:function(){return{filterRoutes:[],defaultOpeneds:[]}},methods:{handleRoutes:function(t){var e=this;return t.filter(function(t){return!!t.name&&(!t.hidden&&(t.open||e.defaultOpeneds.push(t.name),t.children&&(t.children=e.handleRoutes(t.children)),!0))})},handleIndexRoutes:function(){var t=this.handleRoutes(T.b),e=t[0];"index"===e.name&&e.children&&(this.filterRoutes=e.children)}},created:function(){this.handleIndexRoutes()}},ot=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-aside",{attrs:{id:"menu",width:"240px"}},[n("el-menu",{staticClass:"el-menu-container",attrs:{"default-active":t.$route.name,"default-openeds":t.defaultOpeneds}},[n("my-menu-item",{attrs:{json:t.filterRoutes}})],1)],1)},ct=[],lt={render:ot,staticRenderFns:ct},ut=lt,dt=n("VU/8"),ft=r,pt=dt(rt,ut,!1,ft,null,null),mt=pt.exports,ht={name:"menuItem",props:{json:Array}},vt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"menuItem"},[t._l(t.json,function(e,i){return[e.children&&e.children.length>0?n("el-submenu",{key:i,attrs:{index:e.name}},[n("template",{slot:"title"},[e.icon?n("i",{class:e.icon}):t._e(),t._v(" "),n("span",{attrs:{slot:"title"},slot:"title"},[t._v(t._s(e.title))])]),t._v(" "),t._l(e.children,function(e,i){return[e.children&&e.children.length>0?n("my-menu-item",{attrs:{json:[e]}}):n("router-link",{attrs:{to:{name:e.name}}},[n("el-menu-item",{key:i,attrs:{index:e.name}},[e.icon?n("i",{class:e.icon}):t._e(),t._v(t._s(e.title)+"\n                    ")])],1)]})],2):n("router-link",{attrs:{to:{name:e.name}}},[n("el-menu-item",{key:i,attrs:{index:e.name}},[e.icon?n("i",{class:e.icon}):t._e(),t._v(" "),n("span",{attrs:{slot:"title"},slot:"title"},[t._v(t._s(e.title))])])],1)]})],2)},_t=[],gt={render:vt,staticRenderFns:_t},kt=gt,wt=n("VU/8"),bt=o,yt=wt(ht,kt,!1,bt,null,null),xt=yt.exports,Ct={name:"page"},St=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-main",{attrs:{id:"page"}},[n("transition",{attrs:{name:"el-fade-in-linear",mode:"out-in"}},[n("my-view")],1)],1)},Tt=[],$t={render:St,staticRenderFns:Tt},It=$t,Et=n("VU/8"),Ot=c,Lt=Et(Ct,It,!1,Ot,null,null),Rt=Lt.exports,Vt=n("gyMJ"),Pt={data:function(){return{taskList:[],taskSelect:"",form:{title:"",describe:""},tagInputVal:"",tagInput:!1,sentenceInputVal:"",sentenceInput:!1,taskVisible:!1,loading:!1}},computed:z()({},Object(B.d)(["task"])),watch:{taskVisible:function(t){t&&this.get_taskList()}},methods:z()({},Object(B.c)(["set_task","set_selected"]),{get_taskList:function(){var t=this;Object(Vt.e)().then(function(e){e&&e.data?t.taskList=e.data:t.taskList=[]})},post_task:function(t){var e=this;if(this.form.title){this.loading=!0;var n={type:t,title:this.form.title,describe:this.form.describe,kword:this.task.tags,gzword:this.task.sentences,ctword:this.task.articles};"edit"===t&&this.taskSelect&&(n.id=this.taskSelect),Object(Vt.h)(n).then(function(n){if(console.log(n),n.data){if("new"===t)e.taskList.unshift(n.data),e.taskSelect=n.data.id;else if("edit"===t){var i=e.taskList.findIndex(function(t){return t.id===n.data.id});e.taskList[i]=n.data}e.$message.success("操作成功")}else e.$message.error("操作失败，请重新尝试");e.loading=!1}).catch(function(t){console.log(t),e.loading=!1,e.$message.error("操作失败，请重新尝试")})}else this.$message.error("标题不能为空")},load_task:function(t){var e=this,n=this.taskList.findIndex(function(t){return t.id===e.taskSelect});if(n>-1){var i=this.taskList[n];this.form.title=i.title,i.describe?this.form.describe=i.describe:this.form.describe="",i.kword?this.task.tags=i.kword:this.task.tags=[],i.gzword?this.task.sentences=i.gzword:this.task.sentences=[],i.ctword?this.task.articles=i.ctword:this.task.articles=[],this.set_task(this.task)}},reset_task:function(){this.form.title="",this.form.describe="",this.task.tags=[],this.task.sentences=[],this.task.articles=[],this.taskSelect="",this.set_task(this.task)},delete_task:function(t){var e=this;console.log("delete",t),this.$confirm("此操作将永久删除该任务, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.loading=!0;var n={type:"del",id:t.id};Object(Vt.h)(n).then(function(n){var i=e.taskList.findIndex(function(e){return e.id===t.id});e.taskList.splice(i,1),e.taskSelect===t.id&&(e.taskSelect="",e.reset_task()),e.loading=!1,e.$message.success("删除成功")}).catch(function(){e.loading=!1,e.$message.error("删除失败")})})},handleClose:function(t,e){"tag"===t?this.task.tags.splice(this.task.tags.indexOf(e),1):"sentence"===t?this.task.sentences.splice(this.task.sentences.indexOf(e),1):"article"===t&&this.task.articles.splice(this.task.articles.indexOf(e),1),this.set_task(this.task)},showInput:function(t){var e=this;"tag"===t?(this.tagInput=!0,this.$nextTick(function(t){e.$refs.saveTagInput.$refs.input.focus()})):"sentence"===t&&(this.sentenceInput=!0,this.$nextTick(function(t){e.$refs.saveSentenceInput.$refs.input.focus()}))},handleInputConfirm:function(t){if("tag"===t){var e=this.tagInputVal;if(e){var n={source:"新建",name:e};this.task.tags.push(n)}this.tagInput=!1,this.tagInputVal=""}else if("sentence"===t){var i=this.sentenceInputVal;if(i){var s={source:"新建",name:i};this.task.sentences.push(s)}this.sentenceInput=!1,this.sentenceInputVal=""}this.set_task(this.task)},pickUp:function(t){"publish"===this.$route.name&&this.set_selected(t.name)}})},jt=(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"sidebar"}},[n("transition",{attrs:{name:"toggleSide"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.taskVisible,expression:"taskVisible"},{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"container",attrs:{"element-loading-text":"正在保存中"}},[n("el-form",{ref:"form",staticClass:"form",attrs:{model:t.form,"label-width":"70px"}},[n("el-form-item",{attrs:{label:"素材"}},[n("el-select",{attrs:{clearable:"",filterable:"",placeholder:"请选择"},on:{change:t.load_task,clear:t.reset_task},model:{value:t.taskSelect,callback:function(e){t.taskSelect=e},expression:"taskSelect"}},t._l(t.taskList,function(e,i){return n("el-option",{key:i,attrs:{label:e.title,value:e.id}},[n("span",{staticStyle:{float:"left","vertical-align":"middle"}},[t._v(t._s(e.title))]),t._v(" "),n("span",{staticClass:"el-icon-delete",staticStyle:{float:"right","vertical-align":"middle"},on:{click:function(n){n.stopPropagation(),t.delete_task(e)}}})])}))],1),t._v(" "),n("el-form-item",{attrs:{label:"标题"}},[n("el-input",{model:{value:t.form.title,callback:function(e){t.$set(t.form,"title","string"==typeof e?e.trim():e)},expression:"form.title"}})],1),t._v(" "),n("el-form-item",{attrs:{label:"描述"}},[n("el-input",{model:{value:t.form.describe,callback:function(e){t.$set(t.form,"describe","string"==typeof e?e.trim():e)},expression:"form.describe"}})],1),t._v(" "),n("el-form-item",{staticClass:"tags",attrs:{label:"关键词"}},[t._l(t.task.tags,function(e,i){return n("el-tooltip",{key:i,attrs:{effect:"light",enterable:!1,content:"来源："+e.source,placement:"top"}},[n("el-tag",{attrs:{type:"primary",closable:!0,"close-transition":!0},on:{close:function(n){n.stopPropagation(),n.preventDefault(),t.handleClose("tag",e)}},nativeOn:{dblclick:function(n){n.stopPropagation(),t.pickUp(e)}}},[t._v(t._s(e.name))])],1)}),t._v(" "),t.tagInput?n("el-input",{ref:"saveTagInput",staticClass:"input-new-tag",attrs:{size:"mini"},on:{blur:function(e){t.handleInputConfirm("tag")}},nativeOn:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key))return null;t.handleInputConfirm("tag")}},model:{value:t.tagInputVal,callback:function(e){t.tagInputVal="string"==typeof e?e.trim():e},expression:"tagInputVal"}}):n("el-button",{staticClass:"button-new-tag",attrs:{size:"small"},on:{click:function(e){t.showInput("tag")}}},[t._v("+ 新建标签")])],2),t._v(" "),n("el-form-item",{staticClass:"sentences",attrs:{label:"句子"}},[t._l(t.task.sentences,function(e,i){return n("el-tooltip",{key:i,attrs:{effect:"light",enterable:!1,content:"来源："+e.source,placement:"top"}},[n("el-tag",{staticClass:"wrap",attrs:{type:"primary",closable:!0,"close-transition":!0},on:{close:function(n){n.stopPropagation(),n.preventDefault(),t.handleClose("sentence",e)}},nativeOn:{dblclick:function(n){n.stopPropagation(),t.pickUp(e)}}},[t._v(t._s(e.name))])],1)}),t._v(" "),t.sentenceInput?n("el-input",{ref:"saveSentenceInput",attrs:{size:"mini"},on:{blur:function(e){t.handleInputConfirm("sentence")}},nativeOn:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key))return null;t.handleInputConfirm("sentence")}},model:{value:t.sentenceInputVal,callback:function(e){t.sentenceInputVal="string"==typeof e?e.trim():e},expression:"sentenceInputVal"}}):n("el-button",{attrs:{size:"small"},on:{click:function(e){t.showInput("sentence")}}},[t._v("+ 新建句子")])],2),t._v(" "),t.task.articles.length>0?n("el-form-item",{staticClass:"articles",attrs:{label:"文章"}},t._l(t.task.articles,function(e,i){return n("router-link",{key:i,attrs:{target:"_blank",to:"/preview_article?id="+e.id}},[n("el-tooltip",{attrs:{effect:"light",enterable:!1,content:"来源："+e.source,placement:"top"}},[n("el-tag",{staticClass:"wrap",attrs:{type:"primary",closable:!0,"close-transition":!0},on:{close:function(n){n.stopPropagation(),n.preventDefault(),t.handleClose("article",e)}}},[t._v(t._s(e.name))])],1)],1)})):t._e(),t._v(" "),n("el-form-item",[t.taskSelect?n("el-button",{attrs:{type:"primary"},on:{click:function(e){e.stopPropagation(),t.post_task("edit")}}},[t._v("保存")]):n("el-button",{attrs:{type:"primary"},on:{click:function(e){e.stopPropagation(),t.post_task("new")}}},[t._v("新建")]),t._v(" "),n("el-button",{on:{click:function(e){e.stopPropagation(),t.reset_task(e)}}},[t._v("重置")])],1)],1)],1)]),t._v(" "),n("el-button",{staticClass:"visibleBtn",attrs:{type:"primary",icon:t.taskVisible?"el-icon-d-arrow-right":"el-icon-d-arrow-left"},on:{click:function(e){t.taskVisible=!t.taskVisible}}})],1)}),Ut=[],At={render:jt,staticRenderFns:Ut},Ft=At,Nt=n("VU/8"),zt=l,Bt=Nt(Pt,Ft,!1,zt,null,null),qt=Bt.exports,Mt=n("VeXh"),Wt={props:{visible:[Boolean,String],reload:Function}},Dt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.visible?n("div",[!0===t.visible?n("div",{staticClass:"loading"},[t._t("default",[n("i",{staticClass:"el-icon-loading"}),t._v("数据加载中...")])],2):"nothing"===t.visible?n("div",{staticClass:"nothing"},[t._t("nothing",[t._v("没有符合条件的数据")])],2):"error"===t.visible?n("div",{staticClass:"error",on:{click:function(e){e.stopPropagation(),t.reload(e)}}},[t._t("error",[n("i",{staticClass:"el-icon-error"}),t._v("请求错误，点击重新加载")])],2):t._e()]):t._e()},Ht=[],Jt={render:Dt,staticRenderFns:Ht},Yt=Jt,Gt=n("VU/8"),Xt=u,Kt=Gt(Wt,Yt,!1,Xt,"data-v-1098d13c",null),Qt=Kt.exports,Zt={props:{itemJson:Array},methods:{previewURL:function(t){return"0"===t.state||"1"===t.state?"http://m.toutiaojk.com/#/detail?classid="+t.classid+"&id="+t.id+"&datafrom="+t.datafrom:"/#/preview_article?id="+t.id},editArticle:function(t){this.$router.push("/index/publish?id="+t.id)},recallArticle:function(t){var e=this;this.$confirm("此操作将从主页上撤回这篇文章，是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var n={type:"recall",id:t.id,state:"5"};Object(Vt.g)(n).then(function(n){t.state="5",e.$notify.success("撤回成功")}).catch(function(t){console.log("撤回失败",t),e.$notify.error("撤回失败")})}).catch(function(){console.log("撤回取消")})},deleteArticle:function(t,e){var n=this;this.$confirm("此操作将永久删除这篇文章，是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var i={type:"del",id:t.id,datafrom:t.datafrom};Object(Vt.g)(i).then(function(t){n.itemJson.splice(e,1),n.$notify.success("删除成功")}).catch(function(t){console.log("删除失败",t),n.$notify.error("删除失败")})}).catch(function(){console.log("删除取消")})}}},te=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.itemJson?n("div",{staticClass:"article-list"},t._l(t.itemJson,function(e,i){return n("el-row",{key:i,staticClass:"article-item",class:{unpassed:"4"===e.state}},["2"===e.state?[n("div",{staticClass:"content"},[n("a",{staticClass:"title",attrs:{href:t.previewURL(e),target:"_blank"}},[t._v(t._s(e.title))]),t._v(" "),n("div",{staticClass:"abstruct"},[n("span",{staticClass:"draft"},[t._v("草稿")]),t._v(" "),n("span",{staticClass:"time"},[t._v(t._s(e.newstime))])]),t._v(" "),n("div",{staticClass:"action"},[n("el-button",{attrs:{icon:"edit",type:"text"},on:{click:function(n){t.editArticle(e)}}},[t._v("修改")]),t._v(" "),n("el-button",{attrs:{icon:"delete",type:"text"},on:{click:function(n){t.deleteArticle(e,i)}}},[t._v("删除")])],1)])]:[n("el-col",{staticClass:"picture",attrs:{span:4}},[n("a",{attrs:{href:t.previewURL(e),target:"_blank"}},[n("img",{attrs:{src:e.titlepic}}),t._v(" "),e.playonlineurl?n("div",{staticClass:"playRound"},[n("div",{staticClass:"playSan"})]):t._e()])]),t._v(" "),n("el-col",{staticClass:"content",attrs:{span:20}},[n("a",{staticClass:"title",attrs:{href:t.previewURL(e),target:"_blank"}},[t._v(t._s(e.title))]),t._v(" "),"4"===e.state?[n("p",{staticClass:"unpassed_reason"},[t._v("未通过原因：内容不适合收录")]),t._v(" "),n("div",{staticClass:"action"},[n("el-tooltip",{attrs:{effect:"light",content:"内容不适合收录，禁止修改",placement:"bottom"}},[n("el-button",{staticClass:"disabled",attrs:{icon:"edit",type:"text"}},[t._v("修改")])],1),t._v(" "),n("el-button",{attrs:{icon:"delete",type:"text"},on:{click:function(n){t.deleteArticle(e,i)}}},[t._v("删除")])],1)]:[n("div",{staticClass:"abstruct"},["0"===e.state?n("a",{staticClass:"recommend"},[t._v("已推荐")]):t._e(),t._v(" "),"0"===e.state||"1"===e.state?n("span",{staticClass:"passed"},[t._v("已发表")]):t._e(),t._v(" "),"3"===e.state?n("span",{staticClass:"auditing"},[t._v("审核中")]):t._e(),t._v(" "),"5"===e.state?n("span",{staticClass:"recall"},[t._v("已撤回")]):t._e(),t._v(" "),e.newstime?n("span",{staticClass:"time"},[t._v(t._s(e.newstime))]):t._e()]),t._v(" "),n("div",{staticClass:"count"},[e.onclick?n("span",[t._v("阅读 "+t._s(e.onclick))]):n("span",[t._v("阅读 0")]),t._v(" "),e.plnum?n("span",[t._v("评论 "+t._s(e.plnum))]):n("span",[t._v("评论 0")]),t._v(" "),e.collectnum?n("span",[t._v("收藏  "+t._s(e.collectnum))]):n("span",[t._v("收藏 0")])]),t._v(" "),n("div",{staticClass:"action"},[n("el-button",{attrs:{icon:"edit",type:"text"},on:{click:function(n){t.editArticle(e)}}},[t._v("修改")]),t._v(" "),n("el-button",{attrs:{icon:"share",type:"text"}},[t._v("转发")]),t._v(" "),n("el-dropdown",{attrs:{placement:"bottom",trigger:"click"}},[n("el-button",{attrs:{icon:"more",type:"text"}},[t._v("更多")]),t._v(" "),n("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[n("el-dropdown-item",{nativeOn:{click:function(n){t.recallArticle(e,i)}}},[t._v("撤回")]),t._v(" "),n("el-dropdown-item",{nativeOn:{click:function(n){t.deleteArticle(e,i)}}},[t._v("删除")])],1)],1)],1)]],2)]],2)})):t._e()},ee=[],ne={render:te,staticRenderFns:ee},ie=ne,se=n("VU/8"),ae=d,re=se(Zt,ie,!1,ae,null,null),oe=re.exports,ce={props:{itemJson:Array}},le=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"comment-list"},t._l(3,function(e,i){return n("div",{key:i,staticClass:"comment-item"},[t._m(0,!0),t._v(" "),t._m(1,!0)])}))},ue=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"comment-avatar"},[n("a",{attrs:{target:"_blank"}},[n("img",{attrs:{src:"http://p1.pstatp.com/thumb/249b0002779aafe50ad1",alt:""}})])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"comment-body"},[n("div",{staticClass:"comment-header"},[n("span",{staticClass:"name"},[t._v("小郑")]),t._v(" "),n("div",{staticClass:"time"},[n("span",[t._v("前天17:21")])])]),t._v(" "),n("div",{staticClass:"comment-content"},[n("div",{staticClass:"comment-text"},[t._v("我预产期在过年那几天，还得回老家去坐月子，瓦房那种[流泪]平时冬天洗澡也冷啊，但是我冬天最多一周要洗一次澡的，不晓得咋个过这个月子哟，[流泪]")]),t._v(" "),n("div",{staticClass:"comment-article"},[t._v("\n                    评论了我的文章：「\n                    "),n("a",[t._v("急，在线等！坐月子要不要洗澡？嫂子和妈大吵起来了")]),t._v(" 」\n                ")])]),t._v(" "),n("div",{staticClass:"comment-action clearfix"},[n("div",{staticClass:"comment-action-left"},[n("div",{staticClass:"comment-action-item"},[n("i",{staticClass:"el-icon-fa-thumbs-up"}),t._v(" 0")]),t._v(" "),n("div",{staticClass:"comment-action-item"},[n("i",{staticClass:"el-icon-fa-commenting"}),t._v(" 0")])]),t._v(" "),n("div",{staticClass:"comment-action-right"},[n("div",{staticClass:"comment-action-item"},[n("a",[t._v("推荐")])]),t._v(" "),n("div",{staticClass:"comment-action-item"},[n("a",[t._v("回复")])]),t._v(" "),n("div",{staticClass:"comment-action-item"},[n("a",[t._v("点赞")])]),t._v(" "),n("div",{staticClass:"comment-action-item"},[n("a",[t._v("举报")])])])])])}],de={render:le,staticRenderFns:ue},fe=de,pe=n("VU/8"),me=f,he=pe(ce,fe,!1,me,null,null),ve=he.exports,_e={name:"tabs",props:{json:Array},data:function(){return{activeName:this.$route.name}},watch:{activeName:function(t){this.$router.push({name:t})}}},ge=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-tabs",{staticClass:"tabs",model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},t._l(t.json,function(t,e){return n("el-tab-pane",{key:e,attrs:{label:t.label,name:t.name}})}))},ke=[],we={render:ge,staticRenderFns:ke},be=we,ye=n("VU/8"),xe=p,Ce=ye(_e,be,!1,xe,null,null),Se=Ce.exports,Te=n("bOdI"),$e=n.n(Te),Ie=0,Ee=["webkit","moz","ms","o"],Oe=window.requestAnimationFrame,Le=window.cancelAnimationFrame,Re=0;Re<Ee.length&&(!Oe||!Le);++Re)Oe=window[Ee[Re]+"RequestAnimationFrame"],Le=window[Ee[Re]+"CancelAnimationFrame"]||window[Ee[Re]+"CancelRequestAnimationFrame"];Oe||(Oe=function(t){var e=(new Date).getTime(),n=Math.max(0,16-(e-Ie)),i=window.setTimeout(function(){t(e+n)},n);return Ie=e+n,i}),Le||(Le=function(t){clearTimeout(t)});var Ve={props:{height:{type:Number,default:400},bottom:{type:Number,default:30},right:{type:Number,default:30},duration:{type:Number,default:1e3}},data:function(){return{backTop:!1}},computed:{classes:function(){return["my-backTop",$e()({},"my-backTop-show",this.backTop)]},styles:function(){return{bottom:this.bottom+"px",right:this.right+"px"}},innerClasses:function(){return"my-backTop-inner"}},methods:{scrollTop:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:500,s=Math.abs(t-n),a=Math.ceil(s/i*50);!function t(n,i,s){if(n===i)return void e.$emit("complete");var a=n+s>i?i:n+s;n>i&&(a=n-s<i?i:n-s),window.scrollTo(a,a),Oe(function(){return t(a,i,s)})}(t,n,a)},handleScroll:function(){this.backTop=window.pageYOffset>=this.height},back:function(){var t=window.pageYOffset;this.scrollTop(t,0,this.duration),this.$emit("onClick")}},mounted:function(){window.addEventListener("scroll",this.handleScroll,!1),window.addEventListener("resize",this.handleScroll,!1)},beforeDestroy:function(){window.removeEventListener("scroll",this.handleScroll,!1),window.removeEventListener("resize",this.handleScroll,!1)}},Pe=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:t.classes,style:t.styles,on:{click:t.back}},[t._t("default",[n("div",{class:t.innerClasses},[n("i",{staticClass:"el-icon-arrow-up"})])])],2)},je=[],Ue={render:Pe,staticRenderFns:je},Ae=Ue,Fe=n("VU/8"),Ne=m,ze=Fe(Ve,Ae,!1,Ne,null,null),Be=ze.exports,qe={name:"sticky",props:{offsetTop:{type:Number,default:0},offsetBottom:{type:Number},stickyClass:{type:String}},data:function(){return{sticky:!1,wrapperStyles:{},stickyStyles:{}}},computed:{offsetType:function(){var t="top";return this.offsetBottom>=0&&(t="bottom"),t}},methods:{getScroll:function(t,e){return t[e?"pageYOffset":"pageXOffset"]},getOffset:function(t){var e=t.getBoundingClientRect(),n=this.getScroll(window,!0),i=this.getScroll(window),s=window.document.body,a=s.clientTop||0,r=s.clientLeft||0;return{top:e.top+n-a,left:e.left+i-r,width:e.width,height:e.height}},handleScroll:function(){var t=this.sticky,e=this.getScroll(window,!0),n=this.getOffset(this.$el),i=window.innerHeight,s=this.$el.getElementsByTagName("div")[0].offsetHeight;n.top-this.offsetTop<=e&&"top"===this.offsetType&&!t?(this.sticky=!0,this.wrapperStyles={width:n.width+"px"},this.stickyStyles={top:this.offsetTop+"px",left:n.left+"px",width:this.$el.offsetWidth+"px"},this.$emit("change",!0)):n.top-this.offsetTop>e&&"top"===this.offsetType&&t&&(this.sticky=!1,this.wrapperStyles=null,this.stickyStyles=null,this.$emit("change",!1)),n.top+this.offsetBottom+s>e+i&&"bottom"===this.offsetType&&!t?(this.sticky=!0,this.wrapperStyles={width:n.width+"px"},this.stickyStyles={bottom:this.offsetBottom+"px",left:n.left+"px",width:this.$el.offsetWidth+"px"},this.$emit("change",!0)):n.top+this.offsetBottom+s<e+i&&"bottom"===this.offsetType&&t&&(this.sticky=!1,this.wrapperStyles=null,this.stickyStyles=null,this.$emit("change",!1))}},mounted:function(){window.addEventListener("scroll",this.handleScroll,!1),window.addEventListener("resize",this.handleScroll,!1)},beforeDestroy:function(){window.removeEventListener("scroll",this.handleScroll,!1),window.removeEventListener("resize",this.handleScroll,!1)}},Me=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{style:t.wrapperStyles},[n("div",{class:[{"my-sticky":t.sticky},t.stickyClass],style:t.stickyStyles},[t._t("default")],2)])},We=[],De={render:Me,staticRenderFns:We},He=De,Je=n("VU/8"),Ye=h,Ge=Je(qe,He,!1,Ye,null,null),Xe=Ge.exports;v.default.config.productionTip=!1,v.default.prototype.$http=O.a,v.default.use(R.a),v.default.use(P.a),v.default.use(U.a,{failedColor:"red",thickness:"4px"}),v.default.use(F.a),v.default.component("my-header",X),v.default.component("my-footer",at),v.default.component("my-menu",mt),v.default.component("my-menu-item",xt),v.default.component("my-page",Rt),v.default.component("my-sidebar",qt),v.default.component("my-view",Mt.default),v.default.component("my-loading",Qt),v.default.component("article-list",oe),v.default.component("comment-list",ve),v.default.component("my-tabs",Se),v.default.component("my-backTop",Be),v.default.component("my-sticky",Xe),T.a.beforeEach(function(t,e,n){function i(){n({path:"/login",query:{redirect:t.fullPath}})}t.matched.some(function(t){return t.meta.login})?I.a.getToken()?"/login"===t.path?n("/"):$.a.state.user?n():$.a.dispatch("get_user_data").then(function(t){n()}).catch(function(t){console.log("登录出错：",t),window.alert("登录已失效，请重新登录"),i()}):i():n()}),v.default.config.errorHandler=function(t,e,n){console.log("错误日志",{error:t,vm:e,info:n,url:window.location.href,time:new Date})},new v.default({el:"#app",router:T.a,store:$.a,template:"<App/>",components:{App:S}})},SMW8:function(t,e){},Sn6T:function(t,e){},TuU3:function(t,e,n){"use strict";var i=n("mvHQ"),s=n.n(i),a=n("lbHh"),r=n.n(a);e.a={getToken:function(){return r.a.get("Admin-Token")},setToken:function(t){return r.a.set("Admin-Token",t,{expires:7})},removeToken:function(){return r.a.remove("Admin-Token")},getSession:function(t){if(t)return window.sessionStorage.getItem(t)},setSession:function(t,e){t&&("string"!=typeof e&&(e=s()(e)),window.sessionStorage.setItem(t,e))},removeSession:function(t){t&&window.sessionStorage.removeItem(t)},getLocal:function(t){if(t)return window.localStorage.getItem(t)},setLocal:function(t,e){t&&("string"!=typeof e&&(e=s()(e)),window.localStorage.setItem(t,e))},removeLocal:function(t){t&&window.localStorage.removeItem(t)}}},VeXh:function(t,e,n){"use strict";function i(t){n("vDNe")}Object.defineProperty(e,"__esModule",{value:!0});var s=n("YaEn"),a={name:"my-view",data:function(){return{keep:[]}},methods:{filterKeep:function(t){var e=this;t.forEach(function(t){t.meta&&t.meta.keep&&e.keep.push(t.name),t.children&&e.filterKeep(t.children)})}},mounted:function(){this.filterKeep(s.b)}},r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("keep-alive",{attrs:{include:t.keep}},[n("router-view")],1)},o=[],c={render:r,staticRenderFns:o},l=c,u=n("VU/8"),d=i,f=u(a,l,!1,d,null,null);e.default=f.exports},W4P1:function(t,e){},YaEn:function(t,e,n){"use strict";n.d(e,"b",function(){return b});var i=n("7+uW"),s=n("/ocq"),a=function(){return new Promise(function(t){t()}).then(n.bind(null,"VeXh"))},r=function(){return n.e(3).then(n.bind(null,"QrVH"))},o=function(){return n.e(6).then(n.bind(null,"lMAp"))},c=function(){return Promise.all([n.e(0),n.e(4)]).then(n.bind(null,"Fw7Z"))},l=function(){return n.e(15).then(n.bind(null,"3B3s"))},u=function(){return n.e(7).then(n.bind(null,"ARRY"))},d=function(){return Promise.all([n.e(2),n.e(0)]).then(n.bind(null,"c0Lq"))},f=function(){return n.e(8).then(n.bind(null,"UQC/"))},p=function(){return Promise.all([n.e(0),n.e(5)]).then(n.bind(null,"RPN4"))},m=function(){return n.e(12).then(n.bind(null,"C8Nq"))},h=function(){return n.e(13).then(n.bind(null,"JcqC"))},v=function(){return n.e(14).then(n.bind(null,"eF/8"))},_=function(){return n.e(10).then(n.bind(null,"aKLZ"))},g=function(){return n.e(11).then(n.bind(null,"AEg7"))},k=function(){return n.e(1).then(n.bind(null,"9Nqj"))},w=function(){return n.e(9).then(n.bind(null,"KVz7"))};i.default.use(s.a);var b=[{path:"",redirect:"/index"},{name:"index",path:"/index",redirect:"/index/home",meta:{login:!0},component:c,children:[{name:"home",path:"home",title:"主页",icon:"el-icon-fa-home",component:l},{name:"work",path:"work",title:"写作",icon:"el-icon-fa-pencil",component:a,children:[{name:"search",path:"search",title:"素材搜索",component:u},{name:"publish",path:"publish",title:"发表作品",component:d},{name:"articles",path:"articles",title:"我的作品",component:f,redirect:"/index/work/articles/own",children:[{name:"own",path:"own",title:"我发表的",hidden:!0,component:p}]}]},{name:"manage",path:"manage",title:"管理",icon:"el-icon-fa-cube",component:a,children:[{name:"comment",path:"comment",title:"评论管理",component:m,redirect:"/index/manage/comment/newest",children:[{name:"newest",path:"newest",title:"最新评论",hidden:!0,component:h},{name:"all",path:"all",title:"文章评论",hidden:!0,component:v}]},{name:"material",path:"material",title:"素材管理",component:_,redirect:"material/pic",children:[{name:"pic",path:"pic",title:"图片管理",hidden:!0,component:g}]}]},{name:"count",path:"count",title:"统计",icon:"el-icon-fa-bar-chart",component:k},{name:"setting",path:"setting",title:"设置",icon:"el-icon-fa-cog",component:w}]},{name:"login",path:"/login",component:r},{name:"preview",path:"/preview_article",meta:{login:!0},component:o}];e.a=new s.a({scrollBehavior:function(t,e,n){return n?(t.meta.position=n,n):{x:0,y:0}},routes:b})},caan:function(t,e){},coeT:function(t,e){},"fl+1":function(t,e){},gyMJ:function(t,e,n){"use strict";function i(t){var e=t.enews,n=t.username,i=t.password,s=t.equestion;return k("/ecmsadmin.php","POST",{enews:e,username:n,password:i,equestion:s})}function s(t){return k("/ecmsadmin.php","POST",{enews:"check",token:t})}var a=n("Xxa5"),r=n.n(a),o=n("exGp"),c=n.n(o),l=n("//Fk"),u=n.n(l),d=n("mtWM"),f=n.n(d),p=n("mw3O"),m=n.n(p),h=n("IcnI"),v=n("zL8q"),_=this,g=f.a.create({baseURL:"http://api.toutiaojk.com/e/extend/jkh/",timeout:1e4});g.interceptors.request.use(function(t){return t},function(t){u.a.reject(t)}),g.interceptors.response.use(function(t){var e=t.data;return e&&e.error?u.a.reject(e.error):t},function(t){return Object(v.Message)({message:t.message,type:"error",duration:5e3}),u.a.reject(t)});var k=function(){var t=c()(r.a.mark(function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=void 0,i=i.toUpperCase(),h.a.state.user&&(s.userid=h.a.state.user.userid),"GET"!==i){t.next=8;break}return t.next=6,g.get(n,{params:s}).then(function(t){e=t.data});case 6:t.next=11;break;case 8:if("POST"!==i){t.next=11;break}return t.next=11,g.post(n,m.a.stringify(s)).then(function(t){e=t.data});case 11:return t.abrupt("return",e);case 12:case"end":return t.stop()}},t,_)}));return function(){return t.apply(this,arguments)}}();e.c=i,e.f=s,n.d(e,"b",function(){return w}),n.d(e,"a",function(){return b}),n.d(e,"g",function(){return y}),n.d(e,"e",function(){return x}),n.d(e,"h",function(){return C}),n.d(e,"d",function(){return S});var w=function(){var t=c()(r.a.mark(function t(e){var n,i=e.type,s=e.page;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,k("/List.php","GET",{type:i,page:s});case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),b=function(){var t=c()(r.a.mark(function t(e){var n;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,k("/List.php","GET",{type:"edit",id:e});case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),y=function(){var t=c()(r.a.mark(function t(e){var n;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,k("/Edit.php","POST",e);case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),x=function(){var t=c()(r.a.mark(function t(){var e;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,k("/kwdata.php","POST",{type:"list"});case 2:return e=t.sent,t.abrupt("return",e);case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),C=function(){var t=c()(r.a.mark(function t(e){var n,i=e.type,s=e.title,a=e.describe,o=e.kword,c=e.gzword,l=e.ctword,u=e.id;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,k("/kwdata.php","POST",{type:i,title:s,describe:a,kword:o,gzword:c,ctword:l,id:u});case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),S=function(){var t=c()(r.a.mark(function t(e){var n,i=e.key,s=e.page;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,k("/picsearch","GET",{key:i,page:s});case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},hbde:function(t,e){},l52I:function(t,e){},llnD:function(t,e){},mgS3:function(t,e){},t4qU:function(t,e){},tvR6:function(t,e){},vDNe:function(t,e){}},["NHnr"]);