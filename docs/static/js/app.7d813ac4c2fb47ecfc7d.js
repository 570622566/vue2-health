webpackJsonp([16],{"0Wij":function(t,e){},"5MGn":function(t,e){},"5jie":function(t,e){},"6cHg":function(t,e){},"6pLn":function(t,e){},"7EHF":function(t,e){},"991W":function(t,e){},"9R5P":function(t,e){},IcnI:function(t,e,n){"use strict";var i=n("Xxa5"),a=n.n(i),s=n("//Fk"),r=n.n(s),o=n("exGp"),c=n.n(o),l=n("7+uW"),u=n("NYxO"),d=n("gyMJ"),m=n("TuU3");l.default.use(u.a);var f={user:""},p={},h={set_user:function(t,e){t.user=e},remove_token:function(t){t.user="",m.a.removeToken()}},v={get_login_data:function(t,e){var n=this;t.commit;return c()(a.a.mark(function t(){return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new r.a(function(t,n){Object(d.c)(e).then(function(e){e.data&&e.data.token?(m.a.setToken(e.data.token),t(e.data)):n(new Error("nothing data"))}).catch(function(t){n(t)})}));case 1:case"end":return t.stop()}},t,n)}))()},get_user_data:function(t){var e=this,n=t.commit;return c()(a.a.mark(function t(){return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new r.a(function(t,e){Object(d.e)(m.a.getToken()).then(function(i){i&&i.data?(n("set_user",i.data),t(i.data)):(n("remove_token"),e(new Error("nothing data")))}).catch(function(t){n("remove_token"),e(t)})}));case 1:case"end":return t.stop()}},t,e)}))()}};e.a=new u.a.Store({state:f,getters:p,mutations:h,actions:v})},J373:function(t,e){},NHnr:function(t,e,n){"use strict";function i(t){n("Sn6T")}function a(t){n("6cHg")}function s(t){n("caan")}function r(t){n("5jie")}function o(t){n("0Wij")}function c(t){n("W4P1")}function l(t){n("5MGn")}function u(t){n("l52I")}function d(t){n("hbde")}function m(t){n("t4qU")}function f(t){n("7EHF")}function p(t){n("6pLn")}Object.defineProperty(e,"__esModule",{value:!0});for(var h=(n("j1ja"),n("7+uW")),v={name:"app",methods:{init_Progress:function(){var t=this;this.$router.beforeEach(function(e,n,i){t.$Progress.start(),i()}),this.$router.afterEach(function(e,n){t.$Progress.finish()})}},created:function(){this.$Progress.start(),this.init_Progress()},mounted:function(){this.$Progress.finish()}},_=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("transition",{attrs:{name:"el-fade-in-linear",mode:"out-in"}},[n("router-view")],1),t._v(" "),n("vue-progress-bar"),t._v(" "),n("my-backTop")],1)},w=[],g={render:_,staticRenderFns:w},y=g,b=n("VU/8"),k=i,x=b(v,y,!1,k,null,null),C=x.exports,T=n("YaEn"),S=n("IcnI"),$=n("TuU3"),E=n("mtWM"),R=n.n(E),j=n("zL8q"),O=n.n(j),A=(n("tvR6"),n("7QTg")),F=n.n(A),L=(n("mgS3"),n("llnD"),n("zYko")),U=n.n(L),N=n("f0Nz"),P=n.n(N),I=(n("991W"),n("coeT"),n("J373"),n("9R5P"),n("Dd8w")),V=n.n(I),q=n("NYxO"),B={computed:V()({},Object(q.d)(["user"])),methods:V()({},Object(q.c)(["set_user","remove_token"]),{handleCommand:function(t){"exit"===t&&(this.remove_token(),this.$router.push("/login"))}})},M=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("header",{attrs:{id:"header"}},[n("div",{staticClass:"header_wrap"},[n("router-link",{staticClass:"logo",attrs:{to:"/"}},[t._v("头条号")]),t._v(" "),n("div",{staticClass:"right"},[n("router-link",{attrs:{to:{name:"publish"}}},[n("el-button",{staticClass:"publish_btn",attrs:{type:"primary"}},[t._v("发表")])],1),t._v(" "),n("el-dropdown",{staticClass:"user",attrs:{placement:"bottom"},on:{command:t.handleCommand}},[n("div",{staticClass:"userinfo"},[n("img",{attrs:{src:t.user.headimgurl,alt:""}}),t._v(" "),n("span",{staticClass:"el-dropdown-link"},[t._v(t._s(t.user.nickname))])]),t._v(" "),n("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[n("el-dropdown-item",{attrs:{command:"exit"}},[t._v("退出")])],1)],1)],1)],1)])},H=[],W={render:M,staticRenderFns:H},J=W,z=n("VU/8"),D=a,G=z(B,J,!1,D,null,null),Y=G.exports,X={},K=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},Q=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"footer"}},[n("div",{staticClass:"footer_wrap"},[n("a",{attrs:{href:"",title:""}},[t._v("关于健康头条")]),t._v(" "),n("span",[t._v("|")]),t._v(" "),n("a",{attrs:{href:"",title:""}},[t._v("用户协议")]),t._v(" "),n("span",[t._v("|")]),t._v(" "),n("a",{attrs:{href:"",title:""}},[t._v("运营规范")]),t._v(" "),n("span",[t._v("|")]),t._v(" "),n("a",{attrs:{href:"",title:""}},[t._v("侵权投诉")]),t._v(" "),n("span",[t._v("|")]),t._v(" "),n("a",{attrs:{href:"",title:""}},[t._v("联系我们")])])])}],Z={render:K,staticRenderFns:Q},tt=Z,et=n("VU/8"),nt=s,it=et(X,tt,!1,nt,null,null),at=it.exports,st={name:"my-menu",data:function(){return{filterRoutes:[],defaultOpeneds:[]}},methods:{handleRoutes:function(t){var e=this;return t.filter(function(t){return!!t.name&&(!t.hidden&&(t.open||e.defaultOpeneds.push(t.name),t.children&&(t.children=e.handleRoutes(t.children)),!0))})},handleIndexRoutes:function(){var t=this.handleRoutes(T.b),e=t[0];"index"===e.name&&e.children&&(this.filterRoutes=e.children)}},created:function(){this.handleIndexRoutes()}},rt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-aside",{attrs:{id:"menu",width:"240px"}},[n("el-menu",{staticClass:"el-menu-container",attrs:{"default-active":t.$route.name,"default-openeds":t.defaultOpeneds}},[n("my-menu-item",{attrs:{json:t.filterRoutes}})],1)],1)},ot=[],ct={render:rt,staticRenderFns:ot},lt=ct,ut=n("VU/8"),dt=r,mt=ut(st,lt,!1,dt,null,null),ft=mt.exports,pt={name:"menuItem",props:{json:Array}},ht=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"menuItem"},[t._l(t.json,function(e,i){return[e.children&&e.children.length>0?n("el-submenu",{key:i,attrs:{index:e.name}},[n("template",{slot:"title"},[e.icon?n("i",{class:e.icon}):t._e(),t._v(" "),n("span",{attrs:{slot:"title"},slot:"title"},[t._v(t._s(e.title))])]),t._v(" "),t._l(e.children,function(e,i){return[e.children&&e.children.length>0?n("my-menu-item",{attrs:{json:[e]}}):n("router-link",{attrs:{to:{name:e.name}}},[n("el-menu-item",{key:i,attrs:{index:e.name}},[e.icon?n("i",{class:e.icon}):t._e(),t._v(t._s(e.title)+"\n                    ")])],1)]})],2):n("router-link",{attrs:{to:{name:e.name}}},[n("el-menu-item",{key:i,attrs:{index:e.name}},[e.icon?n("i",{class:e.icon}):t._e(),t._v(" "),n("span",{attrs:{slot:"title"},slot:"title"},[t._v(t._s(e.title))])])],1)]})],2)},vt=[],_t={render:ht,staticRenderFns:vt},wt=_t,gt=n("VU/8"),yt=o,bt=gt(pt,wt,!1,yt,null,null),kt=bt.exports,xt={name:"page"},Ct=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-main",{attrs:{id:"page"}},[n("transition",{attrs:{name:"el-fade-in-linear",mode:"out-in"}},[n("my-view")],1)],1)},Tt=[],St={render:Ct,staticRenderFns:Tt},$t=St,Et=n("VU/8"),Rt=c,jt=Et(xt,$t,!1,Rt,null,null),Ot=jt.exports,At=n("VeXh"),Ft={props:{visible:[Boolean,String],reload:Function}},Lt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.visible?n("div",[!0===t.visible?n("div",{staticClass:"loading"},[t._t("default",[n("i",{staticClass:"el-icon-loading"}),t._v("数据加载中...")])],2):"nothing"===t.visible?n("div",{staticClass:"nothing"},[t._t("nothing",[t._v("没有符合条件的数据")])],2):"error"===t.visible?n("div",{staticClass:"error",on:{click:function(e){e.stopPropagation(),t.reload(e)}}},[t._t("error",[n("i",{staticClass:"el-icon-error"}),t._v("请求错误，点击重新加载")])],2):t._e()]):t._e()},Ut=[],Nt={render:Lt,staticRenderFns:Ut},Pt=Nt,It=n("VU/8"),Vt=l,qt=It(Ft,Pt,!1,Vt,"data-v-1098d13c",null),Bt=qt.exports,Mt=n("gyMJ"),Ht={props:{itemJson:Array},methods:{previewURL:function(t){return"0"===t.state||"1"===t.state?"http://m.toutiaojk.com/#/detail?classid="+t.classid+"&id="+t.id+"&datafrom="+t.datafrom:"/#/preview_article?id="+t.id},editArticle:function(t){this.$router.push("/index/publish?id="+t.id)},recallArticle:function(t){var e=this;this.$confirm("此操作将从主页上撤回这篇文章，是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var n={type:"recall",id:t.id,state:"5"};Object(Mt.f)(n).then(function(n){t.state="5",e.$notify.success("撤回成功")}).catch(function(t){console.log("撤回失败",t),e.$notify.error("撤回失败")})}).catch(function(){console.log("撤回取消")})},deleteArticle:function(t,e){var n=this;this.$confirm("此操作将永久删除这篇文章，是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var i={type:"del",id:t.id,datafrom:t.datafrom};Object(Mt.f)(i).then(function(t){n.itemJson.splice(e,1),n.$notify.success("删除成功")}).catch(function(t){console.log("删除失败",t),n.$notify.error("删除失败")})}).catch(function(){console.log("删除取消")})}}},Wt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.itemJson?n("div",{staticClass:"article-list"},t._l(t.itemJson,function(e,i){return n("el-row",{key:i,staticClass:"article-item",class:{unpassed:"4"===e.state}},["2"===e.state?[n("div",{staticClass:"content"},[n("a",{staticClass:"title",attrs:{href:t.previewURL(e),target:"_blank"}},[t._v(t._s(e.title))]),t._v(" "),n("div",{staticClass:"abstruct"},[n("span",{staticClass:"draft"},[t._v("草稿")]),t._v(" "),n("span",{staticClass:"time"},[t._v(t._s(e.newstime))])]),t._v(" "),n("div",{staticClass:"action"},[n("el-button",{attrs:{icon:"edit",type:"text"},on:{click:function(n){t.editArticle(e)}}},[t._v("修改")]),t._v(" "),n("el-button",{attrs:{icon:"delete",type:"text"},on:{click:function(n){t.deleteArticle(e,i)}}},[t._v("删除")])],1)])]:[n("el-col",{staticClass:"picture",attrs:{span:4}},[n("a",{attrs:{href:t.previewURL(e),target:"_blank"}},[n("img",{attrs:{src:e.titlepic}}),t._v(" "),e.playonlineurl?n("div",{staticClass:"playRound"},[n("div",{staticClass:"playSan"})]):t._e()])]),t._v(" "),n("el-col",{staticClass:"content",attrs:{span:20}},[n("a",{staticClass:"title",attrs:{href:t.previewURL(e),target:"_blank"}},[t._v(t._s(e.title))]),t._v(" "),"4"===e.state?[n("p",{staticClass:"unpassed_reason"},[t._v("未通过原因：内容不适合收录")]),t._v(" "),n("div",{staticClass:"action"},[n("el-tooltip",{attrs:{effect:"light",content:"内容不适合收录，禁止修改",placement:"bottom"}},[n("el-button",{staticClass:"disabled",attrs:{icon:"edit",type:"text"}},[t._v("修改")])],1),t._v(" "),n("el-button",{attrs:{icon:"delete",type:"text"},on:{click:function(n){t.deleteArticle(e,i)}}},[t._v("删除")])],1)]:[n("div",{staticClass:"abstruct"},["0"===e.state?n("a",{staticClass:"recommend"},[t._v("已推荐")]):t._e(),t._v(" "),"0"===e.state||"1"===e.state?n("span",{staticClass:"passed"},[t._v("已发表")]):t._e(),t._v(" "),"3"===e.state?n("span",{staticClass:"auditing"},[t._v("审核中")]):t._e(),t._v(" "),"5"===e.state?n("span",{staticClass:"recall"},[t._v("已撤回")]):t._e(),t._v(" "),e.newstime?n("span",{staticClass:"time"},[t._v(t._s(e.newstime))]):t._e()]),t._v(" "),n("div",{staticClass:"count"},[e.onclick?n("span",[t._v("阅读 "+t._s(e.onclick))]):n("span",[t._v("阅读 0")]),t._v(" "),e.plnum?n("span",[t._v("评论 "+t._s(e.plnum))]):n("span",[t._v("评论 0")]),t._v(" "),e.collectnum?n("span",[t._v("收藏  "+t._s(e.collectnum))]):n("span",[t._v("收藏 0")])]),t._v(" "),n("div",{staticClass:"action"},[n("el-button",{attrs:{icon:"edit",type:"text"},on:{click:function(n){t.editArticle(e)}}},[t._v("修改")]),t._v(" "),n("el-button",{attrs:{icon:"share",type:"text"}},[t._v("转发")]),t._v(" "),n("el-dropdown",{attrs:{placement:"bottom",trigger:"click"}},[n("el-button",{attrs:{icon:"more",type:"text"}},[t._v("更多")]),t._v(" "),n("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[n("el-dropdown-item",{nativeOn:{click:function(n){t.recallArticle(e,i)}}},[t._v("撤回")]),t._v(" "),n("el-dropdown-item",{nativeOn:{click:function(n){t.deleteArticle(e,i)}}},[t._v("删除")])],1)],1)],1)]],2)]],2)})):t._e()},Jt=[],zt={render:Wt,staticRenderFns:Jt},Dt=zt,Gt=n("VU/8"),Yt=u,Xt=Gt(Ht,Dt,!1,Yt,null,null),Kt=Xt.exports,Qt={props:{itemJson:Array}},Zt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"comment-list"},t._l(3,function(e,i){return n("div",{key:i,staticClass:"comment-item"},[t._m(0,!0),t._v(" "),t._m(1,!0)])}))},te=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"comment-avatar"},[n("a",{attrs:{target:"_blank"}},[n("img",{attrs:{src:"http://p1.pstatp.com/thumb/249b0002779aafe50ad1",alt:""}})])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"comment-body"},[n("div",{staticClass:"comment-header"},[n("span",{staticClass:"name"},[t._v("小郑")]),t._v(" "),n("div",{staticClass:"time"},[n("span",[t._v("前天17:21")])])]),t._v(" "),n("div",{staticClass:"comment-content"},[n("div",{staticClass:"comment-text"},[t._v("我预产期在过年那几天，还得回老家去坐月子，瓦房那种[流泪]平时冬天洗澡也冷啊，但是我冬天最多一周要洗一次澡的，不晓得咋个过这个月子哟，[流泪]")]),t._v(" "),n("div",{staticClass:"comment-article"},[t._v("\n                    评论了我的文章：「\n                    "),n("a",[t._v("急，在线等！坐月子要不要洗澡？嫂子和妈大吵起来了")]),t._v(" 」\n                ")])]),t._v(" "),n("div",{staticClass:"comment-action clearfix"},[n("div",{staticClass:"comment-action-left"},[n("div",{staticClass:"comment-action-item"},[n("i",{staticClass:"el-icon-fa-thumbs-up"}),t._v(" 0")]),t._v(" "),n("div",{staticClass:"comment-action-item"},[n("i",{staticClass:"el-icon-fa-commenting"}),t._v(" 0")])]),t._v(" "),n("div",{staticClass:"comment-action-right"},[n("div",{staticClass:"comment-action-item"},[n("a",[t._v("推荐")])]),t._v(" "),n("div",{staticClass:"comment-action-item"},[n("a",[t._v("回复")])]),t._v(" "),n("div",{staticClass:"comment-action-item"},[n("a",[t._v("点赞")])]),t._v(" "),n("div",{staticClass:"comment-action-item"},[n("a",[t._v("举报")])])])])])}],ee={render:Zt,staticRenderFns:te},ne=ee,ie=n("VU/8"),ae=d,se=ie(Qt,ne,!1,ae,null,null),re=se.exports,oe={name:"tabs",props:{json:Array},data:function(){return{activeName:this.$route.name}},watch:{activeName:function(t){this.$router.push({name:t})}}},ce=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-tabs",{staticClass:"tabs",model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},t._l(t.json,function(t,e){return n("el-tab-pane",{key:e,attrs:{label:t.label,name:t.name}})}))},le=[],ue={render:ce,staticRenderFns:le},de=ue,me=n("VU/8"),fe=m,pe=me(oe,de,!1,fe,null,null),he=pe.exports,ve=n("bOdI"),_e=n.n(ve),we=0,ge=["webkit","moz","ms","o"],ye=window.requestAnimationFrame,be=window.cancelAnimationFrame,ke=0;ke<ge.length&&(!ye||!be);++ke)ye=window[ge[ke]+"RequestAnimationFrame"],be=window[ge[ke]+"CancelAnimationFrame"]||window[ge[ke]+"CancelRequestAnimationFrame"];ye||(ye=function(t){var e=(new Date).getTime(),n=Math.max(0,16-(e-we)),i=window.setTimeout(function(){t(e+n)},n);return we=e+n,i}),be||(be=function(t){clearTimeout(t)});var xe={props:{height:{type:Number,default:400},bottom:{type:Number,default:30},right:{type:Number,default:30},duration:{type:Number,default:1e3}},data:function(){return{backTop:!1}},computed:{classes:function(){return["my-backTop",_e()({},"my-backTop-show",this.backTop)]},styles:function(){return{bottom:this.bottom+"px",right:this.right+"px"}},innerClasses:function(){return"my-backTop-inner"}},methods:{scrollTop:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:500,a=Math.abs(t-n),s=Math.ceil(a/i*50);!function t(n,i,a){if(n===i)return void e.$emit("complete");var s=n+a>i?i:n+a;n>i&&(s=n-a<i?i:n-a),window.scrollTo(s,s),ye(function(){return t(s,i,a)})}(t,n,s)},handleScroll:function(){this.backTop=window.pageYOffset>=this.height},back:function(){var t=window.pageYOffset;this.scrollTop(t,0,this.duration),this.$emit("onClick")}},mounted:function(){window.addEventListener("scroll",this.handleScroll,!1),window.addEventListener("resize",this.handleScroll,!1)},beforeDestroy:function(){window.removeEventListener("scroll",this.handleScroll,!1),window.removeEventListener("resize",this.handleScroll,!1)}},Ce=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:t.classes,style:t.styles,on:{click:t.back}},[t._t("default",[n("div",{class:t.innerClasses},[n("i",{staticClass:"el-icon-arrow-up"})])])],2)},Te=[],Se={render:Ce,staticRenderFns:Te},$e=Se,Ee=n("VU/8"),Re=f,je=Ee(xe,$e,!1,Re,null,null),Oe=je.exports,Ae={name:"sticky",props:{offsetTop:{type:Number,default:0},offsetBottom:{type:Number},stickyClass:{type:String}},data:function(){return{sticky:!1,wrapperStyles:{},stickyStyles:{}}},computed:{offsetType:function(){var t="top";return this.offsetBottom>=0&&(t="bottom"),t}},methods:{getScroll:function(t,e){return t[e?"pageYOffset":"pageXOffset"]},getOffset:function(t){var e=t.getBoundingClientRect(),n=this.getScroll(window,!0),i=this.getScroll(window),a=window.document.body,s=a.clientTop||0,r=a.clientLeft||0;return{top:e.top+n-s,left:e.left+i-r,width:e.width,height:e.height}},handleScroll:function(){var t=this.sticky,e=this.getScroll(window,!0),n=this.getOffset(this.$el),i=window.innerHeight,a=this.$el.getElementsByTagName("div")[0].offsetHeight;n.top-this.offsetTop<=e&&"top"===this.offsetType&&!t?(this.sticky=!0,this.wrapperStyles={width:n.width+"px"},this.stickyStyles={top:this.offsetTop+"px",left:n.left+"px",width:this.$el.offsetWidth+"px"},this.$emit("change",!0)):n.top-this.offsetTop>e&&"top"===this.offsetType&&t&&(this.sticky=!1,this.wrapperStyles=null,this.stickyStyles=null,this.$emit("change",!1)),n.top+this.offsetBottom+a>e+i&&"bottom"===this.offsetType&&!t?(this.sticky=!0,this.wrapperStyles={width:n.width+"px"},this.stickyStyles={bottom:this.offsetBottom+"px",left:n.left+"px",width:this.$el.offsetWidth+"px"},this.$emit("change",!0)):n.top+this.offsetBottom+a<e+i&&"bottom"===this.offsetType&&t&&(this.sticky=!1,this.wrapperStyles=null,this.stickyStyles=null,this.$emit("change",!1))}},mounted:function(){window.addEventListener("scroll",this.handleScroll,!1),window.addEventListener("resize",this.handleScroll,!1)},beforeDestroy:function(){window.removeEventListener("scroll",this.handleScroll,!1),window.removeEventListener("resize",this.handleScroll,!1)}},Fe=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{style:t.wrapperStyles},[n("div",{class:[{"my-sticky":t.sticky},t.stickyClass],style:t.stickyStyles},[t._t("default")],2)])},Le=[],Ue={render:Fe,staticRenderFns:Le},Ne=Ue,Pe=n("VU/8"),Ie=p,Ve=Pe(Ae,Ne,!1,Ie,null,null),qe=Ve.exports;h.default.config.productionTip=!1,h.default.prototype.$http=R.a,h.default.use(O.a),h.default.use(F.a),h.default.use(U.a,{failedColor:"red",thickness:"4px"}),h.default.use(P.a),h.default.component("my-header",Y),h.default.component("my-footer",at),h.default.component("my-menu",ft),h.default.component("my-menu-item",kt),h.default.component("my-page",Ot),h.default.component("my-view",At.default),h.default.component("my-loading",Bt),h.default.component("article-list",Kt),h.default.component("comment-list",re),h.default.component("my-tabs",he),h.default.component("my-backTop",Oe),h.default.component("my-sticky",qe),T.a.beforeEach(function(t,e,n){function i(){n({path:"/login",query:{redirect:t.fullPath}})}t.matched.some(function(t){return t.meta.login})?$.a.getToken()?"/login"===t.path?n("/"):S.a.state.user?n():S.a.dispatch("get_user_data").then(function(t){n()}).catch(function(t){console.log("登录出错：",t),window.alert("登录已失效，请重新登录"),i()}):i():n()}),h.default.config.errorHandler=function(t,e,n){console.log("错误日志",{error:t,vm:e,info:n,url:window.location.href,time:new Date})},new h.default({el:"#app",router:T.a,store:S.a,template:"<App/>",components:{App:C}})},Sn6T:function(t,e){},TuU3:function(t,e,n){"use strict";var i=n("mvHQ"),a=n.n(i),s=n("lbHh"),r=n.n(s);e.a={getToken:function(){return r.a.get("Admin-Token")},setToken:function(t){return r.a.set("Admin-Token",t,{expires:7})},removeToken:function(){return r.a.remove("Admin-Token")},getSession:function(t){if(t)return window.sessionStorage.getItem(t)},setSession:function(t,e){t&&("string"!=typeof e&&(e=a()(e)),window.sessionStorage.setItem(t,e))},removeSession:function(t){t&&window.sessionStorage.removeItem(t)},getLocal:function(t){if(t)return window.localStorage.getItem(t)},setLocal:function(t,e){t&&("string"!=typeof e&&(e=a()(e)),window.localStorage.setItem(t,e))},removeLocal:function(t){t&&window.localStorage.removeItem(t)}}},VeXh:function(t,e,n){"use strict";function i(t){n("vDNe")}Object.defineProperty(e,"__esModule",{value:!0});var a=n("YaEn"),s={name:"my-view",data:function(){return{keep:[]}},methods:{filterKeep:function(t){var e=this;t.forEach(function(t){t.meta&&t.meta.keep&&e.keep.push(t.name),t.children&&e.filterKeep(t.children)})}},mounted:function(){this.filterKeep(a.b)}},r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("keep-alive",{attrs:{include:t.keep}},[n("router-view")],1)},o=[],c={render:r,staticRenderFns:o},l=c,u=n("VU/8"),d=i,m=u(s,l,!1,d,null,null);e.default=m.exports},W4P1:function(t,e){},YaEn:function(t,e,n){"use strict";n.d(e,"b",function(){return y});var i=n("7+uW"),a=n("/ocq"),s=function(){return new Promise(function(t){t()}).then(n.bind(null,"VeXh"))},r=function(){return n.e(3).then(n.bind(null,"QrVH"))},o=function(){return n.e(6).then(n.bind(null,"lMAp"))},c=function(){return Promise.all([n.e(0),n.e(4)]).then(n.bind(null,"Fw7Z"))},l=function(){return n.e(14).then(n.bind(null,"3B3s"))},u=function(){return Promise.all([n.e(2),n.e(0)]).then(n.bind(null,"IXN5"))},d=function(){return n.e(13).then(n.bind(null,"KiVD"))},m=function(){return Promise.all([n.e(0),n.e(5)]).then(n.bind(null,"LuH3"))},f=function(){return n.e(10).then(n.bind(null,"C8Nq"))},p=function(){return n.e(11).then(n.bind(null,"JcqC"))},h=function(){return n.e(12).then(n.bind(null,"eF/8"))},v=function(){return n.e(8).then(n.bind(null,"aKLZ"))},_=function(){return n.e(9).then(n.bind(null,"AEg7"))},w=function(){return n.e(1).then(n.bind(null,"9Nqj"))},g=function(){return n.e(7).then(n.bind(null,"KVz7"))};i.default.use(a.a);var y=[{path:"",redirect:"/index"},{name:"index",path:"/index",redirect:"/index/home",meta:{login:!0},component:c,children:[{name:"home",path:"home",title:"主页",icon:"el-icon-fa-home",component:l},{name:"publish",path:"publish",title:"发表",icon:"el-icon-fa-pencil",component:u},{name:"manage",path:"manage",title:"管理",icon:"el-icon-fa-cube",component:s,children:[{name:"articles",path:"articles",title:"内容管理",component:d,redirect:"/index/manage/articles/own",children:[{name:"own",path:"own",title:"我发表的",hidden:!0,component:m}]},{name:"comment",path:"comment",title:"评论管理",component:f,redirect:"/index/manage/comment/newest",children:[{name:"newest",path:"newest",title:"最新评论",hidden:!0,component:p},{name:"all",path:"all",title:"文章评论",hidden:!0,component:h}]},{name:"material",path:"material",title:"素材管理",component:v,redirect:"/index/manage/material/pic",children:[{name:"pic",path:"pic",title:"图片管理",hidden:!0,component:_}]}]},{name:"count",path:"count",title:"统计",icon:"el-icon-fa-bar-chart",component:w},{name:"setting",path:"setting",title:"设置",icon:"el-icon-fa-cog",component:g}]},{name:"login",path:"/login",component:r},{name:"preview",path:"/preview_article",meta:{login:!0},component:o}];e.a=new a.a({scrollBehavior:function(t,e,n){return n?(t.meta.position=n,n):{x:0,y:0}},routes:y})},caan:function(t,e){},coeT:function(t,e){},gyMJ:function(t,e,n){"use strict";function i(t){var e=t.enews,n=t.username,i=t.password,a=t.equestion;return g("/ecmsadmin.php","POST",{enews:e,username:n,password:i,equestion:a})}function a(t){return g("/ecmsadmin.php","POST",{enews:"check",token:t})}var s=n("Xxa5"),r=n.n(s),o=n("exGp"),c=n.n(o),l=n("//Fk"),u=n.n(l),d=n("mtWM"),m=n.n(d),f=n("mw3O"),p=n.n(f),h=n("IcnI"),v=n("zL8q"),_=this,w=m.a.create({baseURL:"http://api.toutiaojk.com/e/extend/jkh/",timeout:1e4});w.interceptors.request.use(function(t){return t},function(t){u.a.reject(t)}),w.interceptors.response.use(function(t){var e=t.data;return e&&e.error?u.a.reject(e.error):t},function(t){return Object(v.Message)({message:t.message,type:"error",duration:5e3}),u.a.reject(t)});var g=function(){var t=c()(r.a.mark(function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=void 0,i=i.toUpperCase(),h.a.state.user&&(a.userid=h.a.state.user.userid),"GET"!==i){t.next=8;break}return t.next=6,w.get(n,{params:a}).then(function(t){e=t.data});case 6:t.next=11;break;case 8:if("POST"!==i){t.next=11;break}return t.next=11,w.post(n,p.a.stringify(a)).then(function(t){e=t.data});case 11:return t.abrupt("return",e);case 12:case"end":return t.stop()}},t,_)}));return function(){return t.apply(this,arguments)}}();e.c=i,e.e=a,n.d(e,"b",function(){return y}),n.d(e,"a",function(){return b}),n.d(e,"f",function(){return k}),n.d(e,"d",function(){return x});var y=function(){var t=c()(r.a.mark(function t(e){var n,i=e.type,a=e.page;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g("/List.php","GET",{type:i,page:a});case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),b=function(){var t=c()(r.a.mark(function t(e){var n;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g("/List.php","GET",{type:"edit",id:e});case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),k=function(){var t=c()(r.a.mark(function t(e){var n;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g("/Edit.php","POST",e);case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),x=function(){var t=c()(r.a.mark(function t(e){var n,i=e.key,a=e.page;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g("/picsearch","GET",{key:i,page:a});case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},hbde:function(t,e){},l52I:function(t,e){},llnD:function(t,e){},mgS3:function(t,e){},t4qU:function(t,e){},tvR6:function(t,e){},vDNe:function(t,e){}},["NHnr"]);